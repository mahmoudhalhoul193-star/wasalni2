<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Wasalni - ØªØ¬Ø±Ø¨Ø© WhatsApp</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
@import url('https://fonts.googleapis.com/css2?family=Cairo&display=swap');
body{
    font-family:'Cairo',sans-serif;margin:0;padding:0;
    background:#f0f2f5;color:#333;transition:0.3s;
}
body.dark{background:#121212;color:#eee;}
header{
    background:#1976d2;color:#fff;padding:30px;text-align:center;border-bottom-left-radius:20px;border-bottom-right-radius:20px;
}
body.dark header{background:#0d47a1;}
header h1{margin:0;font-size:36px;}
header p{margin:5px 0 0 0;font-size:16px;opacity:0.9;}
.container{max-width:900px;margin:20px auto;padding:20px;position:relative;}
.card{
    background:#fff;padding:20px;border-radius:12px;box-shadow:0 5px 15px rgba(0,0,0,.1);
    margin-bottom:20px;opacity:0;transform:translateY(30px);transition:0.6s;
}
body.dark .card{background:#1e1e1e;color:#eee;}
.card.show{opacity:1;transform:translateY(0);}
input,textarea,select,button{width:100%;padding:10px;margin-top:8px;border-radius:8px;border:1px solid #ddd;font-size:15px;transition:.3s;}
body.dark input,body.dark textarea,body.dark select{background:#333;color:#fff;border:1px solid #555;}
button{background:#1976d2;color:#fff;border:none;cursor:pointer;transition:.3s;}
button:hover{background:#0d47a1;}
.dark-toggle{position:fixed;top:20px;left:20px;background:#333;color:#fff;padding:6px;border:none;border-radius:50%;cursor:pointer;z-index:1000;transition:0.3s;font-size:14px;}
body.dark .dark-toggle{background:#1976d2;color:#fff;}
.call-button{position:fixed;bottom:20px;left:20px;background:#25d366;color:#fff;padding:15px;border-radius:50%;font-weight:bold;text-align:center;text-decoration:none;box-shadow:0 4px 10px rgba(0,0,0,.3);transition:0.3s;z-index:1000;}
.call-button:hover{background:#128c4a;transform:scale(1.1);}
</style>
</head>
<body>

<button class="dark-toggle" onclick="toggleDark()">ğŸŒ™</button>
<a href="https://wa.me/201208624618" target="_blank" class="call-button">ğŸ’¬</a>

<header>
<h1>Wasalni - ØªØ¬Ø±Ø¨Ø© WhatsApp</h1>
<p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¢Ù† Ø¹Ø¨Ø± WhatsApp</p>
</header>

<div class="container">

<div class="card show">
<h2>Ø¥Ø¶Ø§ÙØ© Ø³ÙˆØ§Ù‚</h2>
<input id="driverName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø³ÙˆØ§Ù‚">
<input id="driverPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
<button onclick="addDriver()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø³ÙˆØ§Ù‚</button>

<h3>Ø§Ù„Ø³ÙˆØ§Ù‚ÙŠÙ† Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ†</h3>
<div id="driversList"></div>
</div>

<div class="card show" style="transition-delay:.1s">
<h2>Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨</h2>
<input id="customerName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
<input id="customerPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
<textarea id="orderDetails" placeholder="ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨"></textarea>
<select id="vehicleType">
<option>Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„</option>
<option>Ø³ÙŠØ§Ø±Ø©</option>
<option>ÙØ§Ù†</option>
</select>
<input id="customPrice" type="number" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø³Ø¹Ø± (10 Ø¬Ù†ÙŠÙ‡ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)" min="10">
<select id="selectDriver">
<option value="">Ø§Ø®ØªØ± Ø³ÙˆØ§Ù‚</option>
</select>
<button onclick="addOrder()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
</div>

<div class="card show" style="transition-delay:.2s">
<h2>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h2>
<div class="order-list" id="ordersList"></div>
</div>

</div>

<script>
function toggleDark(){document.body.classList.toggle('dark');}

let drivers=[], orders=[];

// Ø¥Ø¶Ø§ÙØ© Ø³ÙˆØ§Ù‚
function addDriver(){
    const name=document.getElementById('driverName').value;
    const phone=document.getElementById('driverPhone').value;
    if(!name||!phone){alert('Ø§ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');return;}
    drivers.push({name,phone});
    document.getElementById('driverName').value='';
    document.getElementById('driverPhone').value='';
    renderDrivers();
    updateDriverSelect();
}

// Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙˆØ§Ù‚ÙŠÙ†
function renderDrivers(){
    const list=document.getElementById('driversList');
    list.innerHTML='';
    drivers.forEach((d,i)=>{
        const div=document.createElement('div');
        div.textContent=`${i+1}. ${d.name} - ${d.phone}`;
        list.appendChild(div);
    });
}

// ØªØ­Ø¯ÙŠØ« Dropdown Ø§Ù„Ø³ÙˆØ§Ù‚ÙŠÙ†
function updateDriverSelect(){
    const select=document.getElementById('selectDriver');
    select.innerHTML='<option value="">Ø§Ø®ØªØ± Ø³ÙˆØ§Ù‚</option>';
    drivers.forEach((d,i)=>{select.innerHTML+=`<option value="${i}">${d.name}</option>`;});
}

// Ø¥Ø¶Ø§ÙØ© Ø·Ù„Ø¨ ÙˆØ¥Ø±Ø³Ø§Ù„ WhatsApp Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ù„Ø³ÙˆØ§Ù‚
function addOrder(){
    const cname=document.getElementById('customerName').value;
    const cphone=document.getElementById('customerPhone').value;
    const details=document.getElementById('orderDetails').value;
    const vehicle=document.getElementById('vehicleType').value;
    const driverIndex=document.getElementById('selectDriver').value;
    let price=parseFloat(document.getElementById('customPrice').value);

    if(!cname||!cphone||!details||driverIndex===''||isNaN(price)){
        alert('Ø§ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'); return;
    }
    if(price<10){ alert('Ø§Ù„Ø³Ø¹Ø± ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 10 Ø¬Ù†ÙŠÙ‡ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„'); return; }

    const driver = drivers[driverIndex];

    // Ø±Ø³Ø§Ù„Ø© WhatsApp Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø³ÙˆØ§Ù‚
    const msg = encodeURIComponent(
        `Ù…Ø±Ø­Ø¨Ø§ ${driver.name}!\n` +
        `Ù„Ø¯ÙŠÙƒ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ø¹Ù„Ù‰ ÙˆØµÙ„Ù†ÙŠ ğŸš€\n\n` +
        `ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„: ${cname}\n` +
        `ğŸ“ Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„: ${cphone}\n` +
        `ğŸ“ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨: ${details}\n` +
        `ğŸ’° Ø§Ù„Ø³Ø¹Ø±: ${price} Ø¬Ù†ÙŠÙ‡\n\n` +
        `ğŸ’¬ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ WhatsApp Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨.`
    );
    // ÙØªØ­ WhatsApp Ù…Ø¨Ø§Ø´Ø±Ø©
    window.open(`https://wa.me/${driver.phone.replace(/[^0-9]/g,'')}?text=${msg}`, '_blank');

    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø·Ù„Ø¨ Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙƒÙ…Ø±Ø¬Ø¹ ÙÙ‚Ø·
    const order={id:orders.length+1,customerName:cname,customerPhone:cphone,details,vehicle,status:'PENDING',driver:driver,price};
    orders.push(order);

    document.getElementById('customerName').value='';
    document.getElementById('customerPhone').value='';
    document.getElementById('orderDetails').value='';
    document.getElementById('customPrice').value='';
    document.getElementById('selectDriver').value='';
    renderOrders();
}

// Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ø¯ÙˆÙ† Ø£Ø²Ø±Ø§Ø±
function renderOrders(){
    const list=document.getElementById('ordersList');
    list.innerHTML='';
    orders.forEach(o=>{
        const div=document.createElement('div');
        div.innerHTML=`<b>${o.customerName}</b> - ${o.details} - ${o.vehicle} - Ø§Ù„Ø³Ø¹Ø±: ${o.price} Ø¬Ù†ÙŠÙ‡ - Ø³ÙˆØ§Ù‚: ${o.driver.name}`;
        list.appendChild(div);
    });
}
</script>

</body>
</html>
